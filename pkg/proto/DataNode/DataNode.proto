syntax = "proto3";

//option go_package= "github.com/jamoreno22/lab2_dist";

package lab2;

service DataNode {

    rpc DistributeChunks(stream Chunk) returns (Message) {}
    rpc UploadBook(stream Chunk) returns (Message) {}
    rpc DownloadBook(Message) returns (stream Chunk) {}
    //Distribuido
    rpc SendProposal(stream Proposal) returns (Message) {}

}

message Chunk{
    string name = 1;
    repeated bytes data = 2;
}

message Message {
    string text = 1; 
}

message Proposal {
    string ip = 1;
    Chunks chunk = 2;
}